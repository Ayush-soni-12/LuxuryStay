<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <link rel="stylesheet" href="/node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/new.css">
    <title>Create New Listing | LuxuryStays</title>
</head>
<body> -->
    <%- include('partials/header') %>

    <div class="form-container">
        <div class="form-heading">
            <h1>Create Your Luxury Listing</h1>
            <p>Showcase your property to travelers worldwide</p>
        </div>
        
        <form class="needs-validation" action="/show" method="post" novalidate enctype="multipart/form-data">
            <div class="form-grid">
                <div class="form-group floating-label-group">
                    <input type="text" class="input form-control" id="title" name="title" placeholder=" " required>
                    <label class="floating-label" for="title">Property Title</label>
                    <div class="valid-feedback">Looks good!</div>
                    <div class="invalid-feedback">Please provide a title for your property</div>
                </div>

                <div class="form-group price-input-container">
                    <label for="price">Nightly Rate (â‚¹)</label>
                    <input type="number" class="input form-control" id="price" name="price" required min="0">
                    <div class="invalid-feedback">Please set a valid price</div>
                </div>

                <div class="form-group floating-label-group">
                    <input type="text" class="input form-control" id="location" name="location" placeholder=" " required>
                    <label class="floating-label" for="location">Location</label>
                    <div class="invalid-feedback">Please provide the property location</div>
                </div>

                <div class="form-group floating-label-group">
                    <input type="text" class="input form-control" id="country" name="country" placeholder=" " required>
                    <label class="floating-label" for="country">Country</label>
                    <div class="invalid-feedback">Please specify the country</div>
                </div>
            </div>

            <div class="form-group">
                <label for="description">Property Description</label>
                <textarea class="input form-control" id="description" name="description" required 
                          placeholder="Describe your property's unique features, amenities, and what makes it special..."></textarea>
                <div class="invalid-feedback">Please provide a detailed description</div>
            </div>

            <!-- <div class="form-group">
                <label for="image">Property Images</label>
                <div class="file-input-wrapper">
                    <label class="file-input-label" for="image">
                        <span id="file-name">No file chosen</span>
                        <i class="fas fa-cloud-upload-alt file-input-icon"></i>
                    </label>
                    <input type="file" class="input form-control" id="image" name="image" accept="image/*">
                </div>
                <small class="text-muted">Upload high-quality images of your property (max 5MB)</small>
                <div class="invalid-feedback">Please upload at least one image</div>
            </div> -->
            <div class="form-group">
                <label for="image">Image URL</label>
                <input type="file" class="input form-control" id="image" name="image">
                <div class="invalid-feedback">Please provide a valid image URL</div>
            </div>

            <div class="form-group">
                <label for="category">Property Category</label>
                <select name="category" id="category" required>
                    <option value="" disabled selected>Select a category</option>
                    <option value="trending">Trending</option>
                    <option value="room">Room</option>
                    <option value="mountain">Mountain</option>
                    <option value="cities">Iconic Cities</option>
                    <option value="castles">Castles</option>
                    <option value="pool">Amazing Pool</option>
                    <option value="snow">Arctic</option>
                    <option value="camping">Camping</option>
                </select>
                <div class="invalid-feedback">Please select a category</div>
            </div>

            <div class="submit-container">
                <button type="submit" class="btn-17">
                    <span class="text-container">
                        <span class="text">Publish Listing</span>
                    </span>
                    <i class="fa-solid fa-arrow-up-from-bracket"></i>
                </button>
            </div>
        </form>
    </div>

    <%- include('partials/footer') %>

    <!-- <script src="/node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script> -->
    <script>
        // Form Validation
        (() => {
            'use strict'
            const forms = document.querySelectorAll('.needs-validation')
            Array.from(forms).forEach(form => {
                form.addEventListener('submit', event => {
                    if (!form.checkValidity()) {
                        event.preventDefault()
                        event.stopPropagation()
                    }
                    form.classList.add('was-validated')
                }, false)
            })
        })()
        
        // File input display
        const fileInput = document.getElementById('image');
        const fileName = document.getElementById('file-name');
        
        fileInput.addEventListener('change', function() {
            if (this.files.length > 0) {
                fileName.textContent = this.files[0].name;
            } else {
                fileName.textContent = 'No file chosen';
            }
        });
        
        // Floating labels for all inputs
        document.querySelectorAll('.input').forEach(input => {
            if (input.value !== '') {
                input.nextElementSibling.classList.add('floating-label-active');
            }
        });
    </script>
</body>
</html>